<!DOCTYPE html>
<html>
<head>
    <style>
        body { margin: 0; background: transparent; overflow: hidden; font-family: 'Arial', sans-serif; }
        
        .scoreboard {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: linear-gradient(90deg, #004d40 0%, #00695c 100%);
            color: white;
            padding: 8px 20px;
            border-radius: 8px;
            border: 2px solid white;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0px 4px 6px rgba(0,0,0,0.5);
            white-space: nowrap; 
        }

        /* Typography */
        .team-name { color: #ffeb3b; font-weight: 900; font-size: 24px; text-transform: uppercase; }
        .score { font-size: 28px; font-weight: bold; }
        .divider { color: #80cbc4; font-size: 24px; opacity: 0.6; }
        
        .details { display: flex; flex-direction: column; justify-content: center; font-size: 14px; font-weight: bold; color: #b2dfdb; }
        .target-label { color: #ff8a80; } /* Light red for target */

    </style>
</head>
<body>

    <div class="scoreboard" id="board">
        <span id="teamDisplay" class="team-name">TEAM</span>
        
        <span id="scoreDisplay" class="score">0/0</span>
        
        <span class="divider">|</span>

        <div class="details">
            <span id="overDisplay">OV: 0.0</span>
            <span id="targetContainer" style="display:none;">Target: <span id="targetDisplay" class="target-label">0</span></span>
        </div>
    </div>

    <script>
        // --- YOUR KEYS ARE SET BELOW ---
        const BIN_ID = '6937d64fae596e708f8d16a9'; 
        const API_KEY = '$2a$10$/hLwjwFuLAmOdHLdMG64ZeTBqP43JSwO3KQh/NZRjzu6hNtpCTAO6';
        // -------------------------------

        async function fetchScore() {
            try {
                const response = await fetch(`https://api.jsonbin.io/v3/b/${BIN_ID}/latest`, {
                    headers: { 'X-Master-Key': API_KEY }
                });
                const json = await response.json();
                const data = json.record;

                // 1. Prepare Data
                const teamText = data.team || "TEAM"; 
                const scoreText = `${data.runs}/${data.wickets}`;
                const overText = `OV: ${data.overs}`;
                const targetVal = data.target;

                // 2. Update Elements
                const teamEl = document.getElementById('teamDisplay');
                const scoreEl = document.getElementById('scoreDisplay');
                const overEl = document.getElementById('overDisplay');
                const targetContainer = document.getElementById('targetContainer');
                const targetEl = document.getElementById('targetDisplay');

                // Update Text (Only changes the number, no flashing)
                if (teamEl.innerText !== teamText) teamEl.innerText = teamText;
                if (scoreEl.innerText !== scoreText) scoreEl.innerText = scoreText;
                if (overEl.innerText !== overText) overEl.innerText = overText;

                // Handle Target Visibility
                if (targetVal && targetVal > 0) {
                    targetContainer.style.display = "block";
                    targetEl.innerText = targetVal;
                } else {
                    targetContainer.style.display = "none";
                }

            } catch (error) { console.log('Error fetching score'); }
        }

        setInterval(fetchScore, 3000);
        fetchScore(); 
    </script>
</body>
</html>
